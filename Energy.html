<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://d3js.org/d3.v5.min.js"></script>

    <link rel="stylesheet" href="css/Energy.css">
</head>

<body>

    <button id="backButton" class="navigation-button">Back</button>
    <button id="nextButton" class="navigation-button">Next</button>

    <label for="countrySelect">Country:</label>
    <select id="countrySelect"></select>

    <label for="consumptionSelect">Energy:</label>
    <select id="consumptionSelect"></select>

    <!-- Wrap the chart in a container div -->
    <div id="chart-container">
        <script src="js/Energy.js"></script>
    </div>

    <!-- Script to set default country and consumption type from URL -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Function to get query parameter from URL
            function getQueryParam(name) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(name);
            }

            // Get the 'country' and 'consumptionType' query parameters from the URL
            const defaultCountry = getQueryParam("country");

            // Set the default values in the countrySelect and consumptionSelect dropdowns
            const countrySelect = document.getElementById("countrySelect");

            if (defaultCountry) {
                countrySelect.value = defaultCountry;

                // Trigger the change event to update the chart based on the default country
                countrySelect.dispatchEvent(new Event("change"));
            }

            // Back button logic
            const backButton = document.getElementById("backButton");
            backButton.addEventListener("click", function () {
                window.location.href = "index.html" // Go to the previous page
            });

            // Next button logic
            const nextButton = document.getElementById("nextButton");
            nextButton.addEventListener("click", function () {
                window.location.href = "bc.html"; // Navigate to bc.html
            });

        });
    </script>

</body>

</html>